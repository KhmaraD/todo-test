(this["webpackJsonptodo-test"]=this["webpackJsonptodo-test"]||[]).push([[0],{40:function(t,e,n){},66:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n(32),a=n.n(o),r=(n(40),n(17)),s=n(12),i=n(16),d=n(20),l=n.n(d),u=n(33),j=n(34),b=n.n(j),m=function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,b.a.get("https://jsonplaceholder.typicode.com/todos?userId=1");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),O=n(9),f=n(2),h=n(1),x=function(t){var e=t.todos,n=t.getTask;return Object(h.jsxs)("header",{children:[Object(h.jsxs)("h1",{children:["list: ",e.length]}),Object(h.jsx)("button",{className:"button-get",onClick:function(){return n()},children:"Get new tasks"})]})},p=function(t){var e=t.addTask,n=Object(c.useState)(""),o=Object(i.a)(n,2),a=o[0],r=o[1],s=function(t){t.preventDefault(),e(a),r("")};return Object(h.jsxs)("form",{onSubmit:s,children:[Object(h.jsx)("input",{type:"text",value:a,onChange:function(t){r(t.currentTarget.value)},onKeyDown:function(t){"Enter"===t.key&&s(t)},placeholder:"Enter task..."}),Object(h.jsx)("button",{className:"button-add",children:"Add"})]})},k=function(t){var e=t.todo,n=t.toggleTask,c=t.removeTask;return Object(h.jsxs)("div",{className:"item-todo",children:[Object(h.jsx)("div",{className:e.completed?"item-text strike":"item-text",onClick:function(){return n(e.id)},children:e.title}),Object(h.jsxs)("div",{className:"item-control",children:[Object(h.jsx)("div",{className:"item-info",children:Object(h.jsx)(O.b,{to:"/task/".concat(e.id),children:"Info"})}),Object(h.jsx)("div",{className:"item-delete",onClick:function(){return c(e.id)},children:"X"})]})]},e.id)},v=function(t){var e=t.todos,n=t.getTask,c=t.addTask,o=t.handleToggle,a=t.removeTask;return Object(h.jsxs)("div",{className:"main",children:[Object(h.jsx)(x,{todos:e,getTask:n}),Object(h.jsx)(p,{addTask:c}),e.map((function(t){return Object(h.jsx)(k,{todo:t,toggleTask:o,removeTask:a},t.id)}))]})},g=Object(f.g)((function(t){var e=+t.match.params.id,n=t.todos.find((function(t){return t.id===e}));return Object(h.jsxs)("div",{className:"task-item",children:[Object(h.jsxs)("h2",{children:["Task id: ",n.id]}),Object(h.jsx)("p",{children:n.title}),n.completed?Object(h.jsx)("p",{className:"color-green",children:"Task is completed!"}):Object(h.jsx)("p",{className:"color-red",children:"Task not completed! Work better!"}),Object(h.jsx)("button",{onClick:function(){return t.history.goBack()},className:"back-btn",children:"Back to list"})]})}));var T=function(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],o=e[1];Object(c.useEffect)((function(){localStorage.getItem("todos")&&o(JSON.parse(localStorage.getItem("todos")))}),[]);var a=function(t){localStorage.removeItem("todos"),localStorage.setItem("todos",JSON.stringify(t))},d=function(){localStorage.removeItem("todos"),m().then((function(t){localStorage.setItem("todos",JSON.stringify(t)),o(t)}))},l=function(t){if(t){var e={userId:1,id:Date.now(),title:t,completed:!1};o([].concat(Object(s.a)(n),[e])),a([].concat(Object(s.a)(n),[e]))}},u=function(t){var e=Object(s.a)(n.filter((function(e){return e.id!==t})));o(e),a(e)},j=function(t){var e=Object(s.a)(n.map((function(e){return e.id===t?Object(r.a)(Object(r.a)({},e),{},{completed:!e.completed}):Object(r.a)({},e)})));o(e),a(e)};return Object(h.jsx)(O.a,{children:Object(h.jsxs)(f.d,{children:[Object(h.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(h.jsx)(v,{todos:n,getTask:d,addTask:l,handleToggle:j,removeTask:u})}}),Object(h.jsx)(f.b,{exact:!0,path:"/task/:id",render:function(){return Object(h.jsx)(g,{todos:n})}}),Object(h.jsx)(f.a,{to:"/"})]})})};a.a.render(Object(h.jsx)(T,{}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.e63ab805.chunk.js.map